---
const PAGE_TITLE_ID = '_top';

const { data } = Astro.locals.starlightRoute.entry;
const title = data.title;
const description = data.description;
const lastUpdated = data.lastUpdated;
const editUrl = data.editUrl;
const tags = Array.isArray(data.tags) ? data.tags : [];

// Reading time removed as requested

// Get current date for last updated
const currentDate = new Date().toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<div class="page-header">
  <!-- Main title -->
  <h1 id={PAGE_TITLE_ID} class="page-title">{title}</h1>
  
  <!-- Metadata right below title -->
  <div class="page-metadata">
    <div class="metadata-item">
      <span class="metadata-label">Last updated:</span>
      <span class="metadata-value">{currentDate}</span>
    </div>
  </div>
  
  <!-- Subtitle -->
  {description && (
    <div class="page-subtitle">
      <p class="subtitle-text">{description}</p>
    </div>
  )}
  
  <!-- Tags underneath subtitle -->
  {tags.length > 0 && (
    <div class="page-tags">
      {tags.map((tag) => (
        <span class="tag">{tag}</span>
      ))}
    </div>
  )}
</div>

<style>
  .page-header {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }
  
  .page-tags {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
  }
  
  .tag {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background-color: #DEF2CC;
    color: #264450;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 500;
    font-family: 'Test Söhne Buch', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  }
  
  .page-title {
    margin: 0 0 1rem 0;
    font-size: var(--sl-text-h1);
    line-height: var(--sl-line-height-headings);
    font-weight: 600;
    color: var(--sl-color-white);
    font-family: 'Test Söhne Kraftig', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  }
  
  .page-subtitle {
    margin-bottom: 1.5rem;
  }
  
  .subtitle-text {
    font-size: var(--sl-text-lg);
    line-height: 1.6;
    color: var(--sl-color-gray-3);
    margin: 0;
    font-family: 'Test Söhne Buch', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  }
  
  .page-metadata {
    display: flex;
    gap: 2rem;
    padding: 0.5rem 0;
    margin-bottom: 1rem;
    font-family: 'Test Söhne Buch', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  }
  
  .metadata-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .metadata-label {
    font-size: 0.875rem;
    color: var(--sl-color-gray-4);
    font-weight: 500;
  }
  
  .metadata-value {
    font-size: 0.875rem;
    color: var(--sl-color-gray-2);
  }
  
  @media (max-width: 768px) {
    .page-metadata {
      flex-direction: column;
      gap: 0.5rem;
    }
    
    .page-tags {
      gap: 0.375rem;
    }
    
    .tag {
      font-size: 0.75rem;
      padding: 0.2rem 0.6rem;
    }
  }
</style>
